<!DOCTYPE html>
<html>
  <head>
    <title>Kullanıcı Paneli</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        height: 100vh;
        background-image: url("static/background.png");
        background-size: cover;
        background-position: center;
        display: flex;
        flex-direction: column;
        gap: 20px;
        justify-content: center;
        align-items: center;
        font-family: "Poppins", sans-serif;
      }

      h1 {
        color: #987654;
        margin-bottom: 80px;
        font-size: 45px;
      }
      button {
        background-color: #987654;
        color: #333;
        border: none;
        padding: 10px 30px;
        font-size: 20px;
        font-weight: bold;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 220px;
        align-self: center;
      }
      button:hover {
        background-color: #4caf50;
        transform: scale(1.05);
      }
    </style>
  </head>
  <body>
    <h1 id="hosgeldin">Kullanıcı Paneline Hoşgeldin</h1>

    <button id="btnKitaplar">Kitaplar/Ödünç</button>
    <button id="btnCezaOde">Ceza Öde</button>
    <button id="btnOdunclerim">Kitaplarım</button>
    <button id="btnCezalar">Cezalar</button>
    <button id="sifreDegistirBtn">Şifre Değiştir</button>

    <a href="/">Ana sayfaya dön</a>
    <script>
      const isim = localStorage.getItem("isim");

      document.getElementById("hosgeldin").textContent = isim
        ? `Kullanıcı Paneline Hoşgeldin ${isim}`
        : "Kullanıcı Paneline Hoşgeldin";

      document.getElementById("sifreDegistirBtn").onclick = () => {
        window.location.href = "/şifre_panel";
      };

      document.getElementById("btnKitaplar").onclick = () => {
        window.location.href = "/kitaplar";
      };

      document.getElementById("btnOdunclerim").onclick = () => {
        window.location.href = "/odunclerim";
      };

      document.getElementById("btnCezalar").onclick = () => {
        window.location.href = "/late_borrows";
      };

      fetch("/get_user_id", {
        method: "GET",
        credentials: "include",
      })
        .then((res) => res.json())
        .then((data) => {
          if (data.user_id) {
            document.getElementById("btnCezaOde").onclick = () => {
              window.location.href = "/ceza_ode/" + data.user_id;
            };
          }
        });
    </script>
  </body>
</html>
